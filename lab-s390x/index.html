
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="IBM HElayers homomorphic encryption SDK for C++ and Python">
      
      
        <meta name="author" content="IBM FHE team">
      
      
        <link rel="canonical" href="https://ibm.github.io/helayers/lab-s390x/">
      
      
        <link rel="prev" href="../pylab-s390x/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.4">
    
    
      
        <title>C++ for Z - IBM HElayers</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.240905d7.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,400i,700,700i%7CIBM+Plex+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"IBM Plex Sans";--md-code-font:"IBM Plex Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="IBM HElayers" class="md-header__button md-logo" aria-label="IBM HElayers" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IBM HElayers
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              C++ for Z
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="IBM HElayers" class="md-nav__button md-logo" aria-label="IBM HElayers" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    IBM HElayers
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../pylab/" class="md-nav__link">
        Python for x86
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../lab/" class="md-nav__link">
        C++ for x86
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../pylab-s390x/" class="md-nav__link">
        Python for Z
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          C++ for Z
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        C++ for Z
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-requirements" class="md-nav__link">
    System Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#call-to-action" class="md-nav__link">
    Call to Action
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-pull-the-docker-image" class="md-nav__link">
    Step 1: Pull the Docker image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-running-the-image" class="md-nav__link">
    Step 2: Running the image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-access-helayers" class="md-nav__link">
    Step 3: Access HElayers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-getting-started-with-the-tutorials" class="md-nav__link">
    Step 4: Getting Started with the tutorials
  </a>
  
    <nav class="md-nav" aria-label="Step 4: Getting Started with the tutorials">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hebase-tutorial" class="md-nav__link">
    Hebase tutorial
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#neural-network-tutorials" class="md-nav__link">
    Neural network tutorials
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linear-regression" class="md-nav__link">
    Linear regression
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logistic-regression-inference-on-a-credit-card-fraud-detection-dataset" class="md-nav__link">
    Logistic Regression Inference on a Credit Card Fraud Detection Dataset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nearest-neighbor" class="md-nav__link">
    Nearest neighbor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitwise-tutorial" class="md-nav__link">
    Bitwise tutorial
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decicion-tree-inference" class="md-nav__link">
    Decicion tree inference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#neural-network-demos" class="md-nav__link">
    Neural network demos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bgv-world-country-db-lookup" class="md-nav__link">
    BGV world country db lookup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../python-sdk/latest" class="md-nav__link">
        Python SDK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cpp-sdk/latest" class="md-nav__link">
        C++ SDK
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-requirements" class="md-nav__link">
    System Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#call-to-action" class="md-nav__link">
    Call to Action
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-pull-the-docker-image" class="md-nav__link">
    Step 1: Pull the Docker image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-running-the-image" class="md-nav__link">
    Step 2: Running the image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-access-helayers" class="md-nav__link">
    Step 3: Access HElayers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-getting-started-with-the-tutorials" class="md-nav__link">
    Step 4: Getting Started with the tutorials
  </a>
  
    <nav class="md-nav" aria-label="Step 4: Getting Started with the tutorials">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hebase-tutorial" class="md-nav__link">
    Hebase tutorial
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#neural-network-tutorials" class="md-nav__link">
    Neural network tutorials
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linear-regression" class="md-nav__link">
    Linear regression
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logistic-regression-inference-on-a-credit-card-fraud-detection-dataset" class="md-nav__link">
    Logistic Regression Inference on a Credit Card Fraud Detection Dataset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nearest-neighbor" class="md-nav__link">
    Nearest neighbor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitwise-tutorial" class="md-nav__link">
    Bitwise tutorial
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decicion-tree-inference" class="md-nav__link">
    Decicion tree inference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#neural-network-demos" class="md-nav__link">
    Neural network demos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bgv-world-country-db-lookup" class="md-nav__link">
    BGV world country db lookup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>C++ for Z</h1>

<h2 id="overview">Overview</h2>
<p>helayers-lab-s390x is based on HELayers which is written in C++ and includes a C++ API that enables data scientists and application developers to easily use the power of FHE by supporting a wide array of analytics such as Linear/Logistic Regression and Neural Networks. HELayers has been designed with a layered set of capabilities and coupled with appropriate APIs so users can fully utilize the services provided by the SDK. HELayers is delivered as an open platform, capable of using the latest FHE implementations for a given use case. It is enabled with patented optimization and performance boosting innovation for computation, AI innovation and use case requirements that facilitate the practical use of a wide variety of AI workloads over FHE data.</p>
<h2 id="system-requirements">System Requirements</h2>
<p>HElayers is a Linux based Docker image. The only requirement is a system that is capable of running a container, such as Docker, with the necessary user privileges to run docker commands. It is also assumed you have a working internet connection.</p>
<p>This image is built to run on all zSystems architectures including Linux on IBM Z (z16 and LinuxOne III), and zCX Container Extensions</p>
<p><br /></p>
<h2 id="license">License</h2>
<p>This image is provided under a community edition license for non-commercial use; see <a href="https://ibm.box.com/s/zfl6rt2p09811nyy8yow8t3mpsmkmsw6">license</a>.
For commercial deployments and access to the source code, please contact <a href="mailto:chamliam@ie.ibm.com">chamliam@ie.ibm.com</a> for the premium edition license.</p>
<p><br /></p>
<h2 id="call-to-action">Call to Action</h2>
<ol>
<li>
<p>To help us create the best possible offering tailored to your needs, please provide feedback by taking the <a href="https://www.surveygizmo.com/s3/6494169/IBM-HElayers-SDK-Survey">HElayers Experience Survey</a></p>
</li>
<li>
<p>For more information on FHE, please visit our <a href="https://www.ibm.com/support/z-content-solutions/fully-homomorphic-encryption//" target=”_blank”>Content Solutions Page</a></p>
</li>
<li>
<p>For more information on IBM HElayers, please visit our <a href="https://developer.ibm.com/blogs/secure-ai-workloads-using-fully-homomorphic-encrypted-data/" target=”_blank”>IBM Developer Blog</a></p>
</li>
</ol>
<p><br /></p>
<h2 id="installation">Installation</h2>
<p><strong>Note: Do not expose the HElayers containers to unauthorized access.</strong> Anyone with access to the container web interface will be able to execute code inside it. Only start the HElayers containers on local personal computers or on servers with controlled access.</p>
<h3 id="step-1-pull-the-docker-image">Step 1: Pull the Docker image</h3>
<p>In your terminal pull this image from IBM Container Registry to your local repository.</p>
<pre><code>docker pull icr.io/helayers/helayers-lab-s390x:latest
</code></pre>
<p>If you specify <code>:latest</code>, it will always pull the most recent version.  However, if you are looking for a specific version you can replace <code>:latest</code> with the version number, such as <code>:1.0</code>.</p>
<p>If the fetch is successful, it will download the image and you will now have an image in your local repository named <code>icr.io/helayers/helayers-lab:latest</code>.  Check that this image exists with</p>
<pre><code>docker images
</code></pre>
<h3 id="step-2-running-the-image">Step 2: Running the image</h3>
<p>Once the image download is complete, <code>run</code> the image as a container in Docker...</p>
<pre><code>docker run -p 8443:8443 -d --rm --name helayers-lab-s390x icr.io/helayers/helayers-lab-s390x:latest
</code></pre>
<p>This command runs the image and sets the container to be accessed via port 8443.  It also gives the container a name called <code>helayers-lab-s390x</code>, which we can use to find it in the list of other running containers.</p>
<h3 id="step-3-access-helayers">Step 3: Access HElayers</h3>
<p>Open a web browser on your host machine (not the docker container instance), and browse to <a href="http://127.0.0.1:8443/">http://127.0.0.1:8443/ </a>.  This will connect you to the welcome page of the VS Code.</p>
<p>Note: if you run the web browser in different machine than the docker container, then you need to change the IP address of the URL.</p>
<h3 id="step-4-getting-started-with-the-tutorials">Step 4: Getting Started with the tutorials</h3>
<p>Click on the application menu (three bars icon, top left), and
Choose Terminal &gt; New Terminal</p>
<p>In the terminal change directory to examples/<demoName></p>
<p>Follow the directions in the readme file of that demo.</p>
<p>Available demos:</p>
<h4 id="hebase-tutorial">Hebase tutorial</h4>
<p>Basic layer 1 (hebase - abstract layer) tutorial. It
demonstrates helayer's low level API for manipulating ciphertexts directly.</p>
<h4 id="neural-network-tutorials">Neural network tutorials</h4>
<p>Step by step tutorials how to use the C++ API for NN inference</p>
<h4 id="linear-regression">Linear regression</h4>
<p>Compute linear regression using encrypted model and data.</p>
<h4 id="logistic-regression-inference-on-a-credit-card-fraud-detection-dataset">Logistic Regression Inference on a Credit Card Fraud Detection Dataset</h4>
<p>Build a logistic regression model encrypted under HE, and run inference of encrypted samples from a dataset of credit card transactions.</p>
<h4 id="nearest-neighbor">Nearest neighbor</h4>
<p>Encrypt a set of centroids and find nearest neighbor under HE.
Given an encrypted samples, we compute the distance between each sample and each centroid under encryption. On the client side, the results are decrypted and automatically post-processed to obtain the nearest neighbor.</p>
<h4 id="bitwise-tutorial">Bitwise tutorial</h4>
<p>Tutorial explaining the bitwise API (implemented with the BGV scheme)</p>
<h4 id="decicion-tree-inference">Decicion tree inference</h4>
<p>Decision tree inference for credit card fraud detection</p>
<h4 id="neural-network-demos">Neural network demos</h4>
<p>Neural network inference for MNIST, medical, and credit-card fraud datasets.
Note that the neural network tutorials above are more recommended for beginners.</p>
<h4 id="bgv-world-country-db-lookup">BGV world country db lookup</h4>
<p>Encrypted query over an encrypted database.
Uses the BGV scheme, and Fermat's little theorem to compute equality over the modular arithmetic supplied by the scheme.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.19047be9.min.js"></script>
      
    
  </body>
</html>